{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/practicalmeteor:mocha/support/browser-entry.js","filenameRelative":"/packages/practicalmeteor:mocha/support/browser-entry.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/practicalmeteor:mocha/support/browser-entry.js.map","sourceFileName":"/packages/practicalmeteor:mocha/support/browser-entry.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"browser-entry"},"ignored":false,"code":"/**\n * Shim process.stdout.\n */\n\nprocess.stdout = require('browser-stdout')();\n\nvar Mocha = require('../');\n\n/**\n * Create a Mocha instance.\n *\n * @return {undefined}\n */\n\nvar mocha = new Mocha({ reporter: 'html' });\n\n/**\n * Save timer references to avoid Sinon interfering (see GH-237).\n */\n\nvar Date = global.Date;\nvar setTimeout = global.setTimeout;\nvar setInterval = global.setInterval;\nvar clearTimeout = global.clearTimeout;\nvar clearInterval = global.clearInterval;\n\nvar uncaughtExceptionHandlers = [];\n\nvar originalOnerrorHandler = global.onerror;\n\n/**\n * Remove uncaughtException listener.\n * Revert to original onerror handler if previously defined.\n */\n\nprocess.removeListener = function (e, fn) {\n  if ('uncaughtException' == e) {\n    if (originalOnerrorHandler) {\n      global.onerror = originalOnerrorHandler;\n    } else {\n      global.onerror = function () {};\n    }\n    var i = Mocha.utils.indexOf(uncaughtExceptionHandlers, fn);\n    if (i != -1) {\n      uncaughtExceptionHandlers.splice(i, 1);\n    }\n  }\n};\n\n/**\n * Implements uncaughtException listener.\n */\n\nprocess.on = function (e, fn) {\n  if ('uncaughtException' == e) {\n    global.onerror = function (err, url, line) {\n      fn(new Error(err + ' (' + url + ':' + line + ')'));\n      return !mocha.allowUncaught;\n    };\n    uncaughtExceptionHandlers.push(fn);\n  }\n};\n\n// The BDD UI is registered by default, but no UI will be functional in the\n// browser without an explicit call to the overridden `mocha.ui` (see below).\n// Ensure that this default UI does not expose its methods to the global scope.\nmocha.suite.removeAllListeners('pre-require');\n\nvar immediateQueue = [],\n    immediateTimeout;\n\nfunction timeslice() {\n  var immediateStart = new Date().getTime();\n  while (immediateQueue.length && new Date().getTime() - immediateStart < 100) {\n    immediateQueue.shift()();\n  }\n  if (immediateQueue.length) {\n    immediateTimeout = setTimeout(timeslice, 0);\n  } else {\n    immediateTimeout = null;\n  }\n}\n\n/**\n * High-performance override of Runner.immediately.\n */\n\nMocha.Runner.immediately = function (callback) {\n  immediateQueue.push(callback);\n  if (!immediateTimeout) {\n    immediateTimeout = setTimeout(timeslice, 0);\n  }\n};\n\n/**\n * Function to allow assertion libraries to throw errors directly into mocha.\n * This is useful when running tests in a browser because window.onerror will\n * only receive the 'message' attribute of the Error.\n */\nmocha.throwError = function (err) {\n  Mocha.utils.forEach(uncaughtExceptionHandlers, function (fn) {\n    fn(err);\n  });\n  throw err;\n};\n\n/**\n * Override ui to ensure that the ui functions are initialized.\n * Normally this would happen in Mocha.prototype.loadFiles.\n */\n\nmocha.ui = function (ui) {\n  Mocha.prototype.ui.call(this, ui);\n  this.suite.emit('pre-require', global, null, this);\n  return this;\n};\n\n/**\n * Setup mocha with the given setting options.\n */\n\nmocha.setup = function (opts) {\n  if ('string' == typeof opts) opts = { ui: opts };\n  for (var opt in opts) {\n    this[opt](opts[opt]);\n  }return this;\n};\n\n/**\n * Run mocha, returning the Runner.\n */\n\nmocha.run = function (fn) {\n  var options = mocha.options;\n  mocha.globals('location');\n\n  var query = Mocha.utils.parseQuery(global.location.search || '');\n  if (query.grep) mocha.grep(new RegExp(query.grep));\n  if (query.fgrep) mocha.grep(query.fgrep);\n  if (query.invert) mocha.invert();\n\n  return Mocha.prototype.run.call(mocha, function (err) {\n    // The DOM Document is not available in Web Workers.\n    var document = global.document;\n    if (document && document.getElementById('mocha') && options.noHighlighting !== true) {\n      Mocha.utils.highlightTags('code');\n    }\n    if (fn) fn(err);\n  });\n};\n\n/**\n * Expose the process shim.\n * https://github.com/mochajs/mocha/pull/916\n */\n\nMocha.process = process;\n\n/**\n * Expose mocha.\n */\n\nglobal.Mocha = Mocha;\nglobal.mocha = mocha;","ast":null,"map":{"version":3,"sources":["/packages/practicalmeteor:mocha/support/browser-entry.js"],"names":[],"mappings":";;;;AAIA,QAAQ,MAAR,GAAiB,QAAQ,gBAAR,GAAjB;;AAEA,IAAI,QAAQ,QAAQ,KAAR,CAAZ;;;;;;;;AAQA,IAAI,QAAQ,IAAI,KAAJ,CAAU,EAAE,UAAU,MAAZ,EAAV,CAAZ;;;;;;AAMA,IAAI,OAAO,OAAO,IAAlB;AACA,IAAI,aAAa,OAAO,UAAxB;AACA,IAAI,cAAc,OAAO,WAAzB;AACA,IAAI,eAAe,OAAO,YAA1B;AACA,IAAI,gBAAgB,OAAO,aAA3B;;AAEA,IAAI,4BAA4B,EAAhC;;AAEA,IAAI,yBAAyB,OAAO,OAApC;;;;;;;AAOA,QAAQ,cAAR,GAAyB,UAAS,CAAT,EAAY,EAAZ,EAAe;AACtC,MAAI,uBAAuB,CAA3B,EAA8B;AAC5B,QAAI,sBAAJ,EAA4B;AAC1B,aAAO,OAAP,GAAiB,sBAAjB;AACD,KAFD,MAEO;AACL,aAAO,OAAP,GAAiB,YAAW,CAAE,CAA9B;AACD;AACD,QAAI,IAAI,MAAM,KAAN,CAAY,OAAZ,CAAoB,yBAApB,EAA+C,EAA/C,CAAR;AACA,QAAI,KAAK,CAAC,CAAV,EAAa;AAAE,gCAA0B,MAA1B,CAAiC,CAAjC,EAAoC,CAApC;AAAyC;AACzD;AACF,CAVD;;;;;;AAgBA,QAAQ,EAAR,GAAa,UAAS,CAAT,EAAY,EAAZ,EAAe;AAC1B,MAAI,uBAAuB,CAA3B,EAA8B;AAC5B,WAAO,OAAP,GAAiB,UAAS,GAAT,EAAc,GAAd,EAAmB,IAAnB,EAAwB;AACvC,SAAG,IAAI,KAAJ,CAAU,MAAM,IAAN,GAAa,GAAb,GAAmB,GAAnB,GAAyB,IAAzB,GAAgC,GAA1C,CAAH;AACA,aAAO,CAAC,MAAM,aAAd;AACD,KAHD;AAIA,8BAA0B,IAA1B,CAA+B,EAA/B;AACD;AACF,CARD;;;;;AAaA,MAAM,KAAN,CAAY,kBAAZ,CAA+B,aAA/B;;AAEA,IAAI,iBAAiB,EAArB;AAAA,IACI,gBADJ;;AAGA,SAAS,SAAT,GAAqB;AACnB,MAAI,iBAAiB,IAAI,IAAJ,GAAW,OAAX,EAArB;AACA,SAAO,eAAe,MAAf,IAA0B,IAAI,IAAJ,GAAW,OAAX,KAAuB,cAAxB,GAA0C,GAA1E,EAA+E;AAC7E,mBAAe,KAAf;AACD;AACD,MAAI,eAAe,MAAnB,EAA2B;AACzB,uBAAmB,WAAW,SAAX,EAAsB,CAAtB,CAAnB;AACD,GAFD,MAEO;AACL,uBAAmB,IAAnB;AACD;AACF;;;;;;AAMD,MAAM,MAAN,CAAa,WAAb,GAA2B,UAAS,QAAT,EAAmB;AAC5C,iBAAe,IAAf,CAAoB,QAApB;AACA,MAAI,CAAC,gBAAL,EAAuB;AACrB,uBAAmB,WAAW,SAAX,EAAsB,CAAtB,CAAnB;AACD;AACF,CALD;;;;;;;AAYA,MAAM,UAAN,GAAmB,UAAS,GAAT,EAAc;AAC/B,QAAM,KAAN,CAAY,OAAZ,CAAoB,yBAApB,EAA+C,UAAU,EAAV,EAAc;AAC3D,OAAG,GAAH;AACD,GAFD;AAGA,QAAM,GAAN;AACD,CALD;;;;;;;AAYA,MAAM,EAAN,GAAW,UAAS,EAAT,EAAY;AACrB,QAAM,SAAN,CAAgB,EAAhB,CAAmB,IAAnB,CAAwB,IAAxB,EAA8B,EAA9B;AACA,OAAK,KAAL,CAAW,IAAX,CAAgB,aAAhB,EAA+B,MAA/B,EAAuC,IAAvC,EAA6C,IAA7C;AACA,SAAO,IAAP;AACD,CAJD;;;;;;AAUA,MAAM,KAAN,GAAc,UAAS,IAAT,EAAc;AAC1B,MAAI,YAAY,OAAO,IAAvB,EAA6B,OAAO,EAAE,IAAI,IAAN,EAAP;AAC7B,OAAK,IAAI,GAAT,IAAgB,IAAhB;AAAsB,SAAK,GAAL,EAAU,KAAK,GAAL,CAAV;AAAtB,GACA,OAAO,IAAP;AACD,CAJD;;;;;;AAUA,MAAM,GAAN,GAAY,UAAS,EAAT,EAAY;AACtB,MAAI,UAAU,MAAM,OAApB;AACA,QAAM,OAAN,CAAc,UAAd;;AAEA,MAAI,QAAQ,MAAM,KAAN,CAAY,UAAZ,CAAuB,OAAO,QAAP,CAAgB,MAAhB,IAA0B,EAAjD,CAAZ;AACA,MAAI,MAAM,IAAV,EAAgB,MAAM,IAAN,CAAW,IAAI,MAAJ,CAAW,MAAM,IAAjB,CAAX;AAChB,MAAI,MAAM,KAAV,EAAiB,MAAM,IAAN,CAAW,MAAM,KAAjB;AACjB,MAAI,MAAM,MAAV,EAAkB,MAAM,MAAN;;AAElB,SAAO,MAAM,SAAN,CAAgB,GAAhB,CAAoB,IAApB,CAAyB,KAAzB,EAAgC,UAAS,GAAT,EAAa;;AAElD,QAAI,WAAW,OAAO,QAAtB;AACA,QAAI,YAAY,SAAS,cAAT,CAAwB,OAAxB,CAAZ,IAAgD,QAAQ,cAAR,KAA2B,IAA/E,EAAqF;AACnF,YAAM,KAAN,CAAY,aAAZ,CAA0B,MAA1B;AACD;AACD,QAAI,EAAJ,EAAQ,GAAG,GAAH;AACT,GAPM,CAAP;AAQD,CAjBD;;;;;;;AAwBA,MAAM,OAAN,GAAgB,OAAhB;;;;;;AAMA,OAAO,KAAP,GAAe,KAAf;AACA,OAAO,KAAP,GAAe,KAAf","file":"/packages/practicalmeteor:mocha/support/browser-entry.js.map","sourcesContent":["/**\n * Shim process.stdout.\n */\n\nprocess.stdout = require('browser-stdout')();\n\nvar Mocha = require('../');\n\n/**\n * Create a Mocha instance.\n *\n * @return {undefined}\n */\n\nvar mocha = new Mocha({ reporter: 'html' });\n\n/**\n * Save timer references to avoid Sinon interfering (see GH-237).\n */\n\nvar Date = global.Date;\nvar setTimeout = global.setTimeout;\nvar setInterval = global.setInterval;\nvar clearTimeout = global.clearTimeout;\nvar clearInterval = global.clearInterval;\n\nvar uncaughtExceptionHandlers = [];\n\nvar originalOnerrorHandler = global.onerror;\n\n/**\n * Remove uncaughtException listener.\n * Revert to original onerror handler if previously defined.\n */\n\nprocess.removeListener = function(e, fn){\n  if ('uncaughtException' == e) {\n    if (originalOnerrorHandler) {\n      global.onerror = originalOnerrorHandler;\n    } else {\n      global.onerror = function() {};\n    }\n    var i = Mocha.utils.indexOf(uncaughtExceptionHandlers, fn);\n    if (i != -1) { uncaughtExceptionHandlers.splice(i, 1); }\n  }\n};\n\n/**\n * Implements uncaughtException listener.\n */\n\nprocess.on = function(e, fn){\n  if ('uncaughtException' == e) {\n    global.onerror = function(err, url, line){\n      fn(new Error(err + ' (' + url + ':' + line + ')'));\n      return !mocha.allowUncaught;\n    };\n    uncaughtExceptionHandlers.push(fn);\n  }\n};\n\n// The BDD UI is registered by default, but no UI will be functional in the\n// browser without an explicit call to the overridden `mocha.ui` (see below).\n// Ensure that this default UI does not expose its methods to the global scope.\nmocha.suite.removeAllListeners('pre-require');\n\nvar immediateQueue = []\n  , immediateTimeout;\n\nfunction timeslice() {\n  var immediateStart = new Date().getTime();\n  while (immediateQueue.length && (new Date().getTime() - immediateStart) < 100) {\n    immediateQueue.shift()();\n  }\n  if (immediateQueue.length) {\n    immediateTimeout = setTimeout(timeslice, 0);\n  } else {\n    immediateTimeout = null;\n  }\n}\n\n/**\n * High-performance override of Runner.immediately.\n */\n\nMocha.Runner.immediately = function(callback) {\n  immediateQueue.push(callback);\n  if (!immediateTimeout) {\n    immediateTimeout = setTimeout(timeslice, 0);\n  }\n};\n\n/**\n * Function to allow assertion libraries to throw errors directly into mocha.\n * This is useful when running tests in a browser because window.onerror will\n * only receive the 'message' attribute of the Error.\n */\nmocha.throwError = function(err) {\n  Mocha.utils.forEach(uncaughtExceptionHandlers, function (fn) {\n    fn(err);\n  });\n  throw err;\n};\n\n/**\n * Override ui to ensure that the ui functions are initialized.\n * Normally this would happen in Mocha.prototype.loadFiles.\n */\n\nmocha.ui = function(ui){\n  Mocha.prototype.ui.call(this, ui);\n  this.suite.emit('pre-require', global, null, this);\n  return this;\n};\n\n/**\n * Setup mocha with the given setting options.\n */\n\nmocha.setup = function(opts){\n  if ('string' == typeof opts) opts = { ui: opts };\n  for (var opt in opts) this[opt](opts[opt]);\n  return this;\n};\n\n/**\n * Run mocha, returning the Runner.\n */\n\nmocha.run = function(fn){\n  var options = mocha.options;\n  mocha.globals('location');\n\n  var query = Mocha.utils.parseQuery(global.location.search || '');\n  if (query.grep) mocha.grep(new RegExp(query.grep));\n  if (query.fgrep) mocha.grep(query.fgrep);\n  if (query.invert) mocha.invert();\n\n  return Mocha.prototype.run.call(mocha, function(err){\n    // The DOM Document is not available in Web Workers.\n    var document = global.document;\n    if (document && document.getElementById('mocha') && options.noHighlighting !== true) {\n      Mocha.utils.highlightTags('code');\n    }\n    if (fn) fn(err);\n  });\n};\n\n/**\n * Expose the process shim.\n * https://github.com/mochajs/mocha/pull/916\n */\n\nMocha.process = process;\n\n/**\n * Expose mocha.\n */\n\nglobal.Mocha = Mocha;\nglobal.mocha = mocha;\n"]},"hash":"22b4f37f48324f4953cacd5fd31071d48eb70dc8"}
