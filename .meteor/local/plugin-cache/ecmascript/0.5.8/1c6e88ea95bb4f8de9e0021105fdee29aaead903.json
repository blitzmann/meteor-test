{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"angular-mocks","imported":[],"specifiers":[]},{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"../todosList","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"todosList"}]},{"source":"meteor/practicalmeteor:chai","imported":["assert"],"specifiers":[{"kind":"named","imported":"assert","local":"assert"}]},{"source":"meteor/practicalmeteor:sinon","imported":["sinon"],"specifiers":[{"kind":"named","imported":"sinon","local":"sinon"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/components/todosList/todosLists.test.js","filenameRelative":"/imports/components/todosList/todosLists.test.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/components/todosList/todosLists.test.js.map","sourceFileName":"/imports/components/todosList/todosLists.test.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"todosLists.test"},"ignored":false,"code":"module.import('angular-mocks');var Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var todosList;module.import('../todosList',{\"default\":function(v){todosList=v}});var assert;module.import('meteor/practicalmeteor:chai',{\"assert\":function(v){assert=v}});var sinon;module.import('meteor/practicalmeteor:sinon',{\"sinon\":function(v){sinon=v}});/* eslint-env mocha */\n\n\n\n\n\n\n\n\ndescribe('todosList', function () {\n  var element;\n\n  beforeEach(function () {\n    var $compile;\n    var $rootScope;\n\n    window.module(todosList.name);\n\n    inject(function (_$compile_, _$rootScope_) {\n      $compile = _$compile_;\n      $rootScope = _$rootScope_;\n    });\n\n    element = $compile('<todos-list></todos-list>')($rootScope.$new(true));\n    $rootScope.$digest();\n  });\n\n  describe('component', function () {\n    it('should be showing incomplete tasks count', function () {\n      assert.include(element[0].querySelector('h1').innerHTML, '0');\n    });\n  });\n\n  describe('controller', function () {\n    describe('addTask', function () {\n      var controller;\n      var newTask = 'Be more fabolous';\n\n      beforeEach(function () {\n        sinon.stub(Meteor, 'call');\n        controller = element.controller('todosList');\n        controller.newTask = 'Be fabolous';\n        controller.addTask(newTask);\n      });\n\n      afterEach(function () {\n        Meteor.call.restore();\n      });\n\n      it('should call tasks.insert method', function () {\n        sinon.assert.calledOnce(Meteor.call);\n        sinon.assert.calledWith(Meteor.call, 'tasks.insert', newTask);\n      });\n\n      it('should reset newTask', function () {\n        assert.equal(controller.newTask, '');\n      });\n    });\n  });\n});","ast":null,"map":{"version":3,"sources":["/imports/components/todosList/todosLists.test.js"],"names":[],"mappings":";;AAEA,OAAO,eAAP;AACA,SAAS,MAAT,QAAuB,eAAvB;;AAEA,OAAO,SAAP,MAAsB,cAAtB;AACA,SAAS,MAAT,QAAuB,6BAAvB;AACA,SAAS,KAAT,QAAsB,8BAAtB;;AAEA,SAAS,WAAT,EAAsB,YAAW;AAC/B,MAAI,OAAJ;;AAEA,aAAW,YAAW;AACpB,QAAI,QAAJ;AACA,QAAI,UAAJ;;AAEA,WAAO,MAAP,CAAc,UAAU,IAAxB;;AAEA,WAAO,UAAS,UAAT,EAAqB,YAArB,EAAkC;AACvC,iBAAW,UAAX;AACA,mBAAa,YAAb;AACD,KAHD;;AAKA,cAAU,SAAS,2BAAT,EAAsC,WAAW,IAAX,CAAgB,IAAhB,CAAtC,CAAV;AACA,eAAW,OAAX;AACD,GAbD;;AAeA,WAAS,WAAT,EAAsB,YAAW;AAChC,OAAG,0CAAH,EAA+C,YAAW;AACxD,aAAO,OAAP,CAAe,QAAQ,CAAR,EAAW,aAAX,CAAyB,IAAzB,EAA+B,SAA9C,EAAyD,GAAzD;AACD,KAFD;AAGD,GAJA;;AAMD,WAAS,YAAT,EAAuB,YAAW;AAC/B,aAAS,SAAT,EAAoB,YAAW;AAC7B,UAAI,UAAJ;AACA,UAAI,UAAU,kBAAd;;AAEA,iBAAW,YAAM;AACf,cAAM,IAAN,CAAW,MAAX,EAAmB,MAAnB;AACA,qBAAa,QAAQ,UAAR,CAAmB,WAAnB,CAAb;AACA,mBAAW,OAAX,GAAqB,aAArB;AACA,mBAAW,OAAX,CAAmB,OAAnB;AACD,OALD;;AAOA,gBAAU,YAAM;AACd,eAAO,IAAP,CAAY,OAAZ;AACD,OAFD;;AAIA,SAAG,iCAAH,EAAsC,YAAW;AAC/C,cAAM,MAAN,CAAa,UAAb,CAAwB,OAAO,IAA/B;AACA,cAAM,MAAN,CAAa,UAAb,CAAwB,OAAO,IAA/B,EAAqC,cAArC,EAAqD,OAArD;AACD,OAHD;;AAKA,SAAG,sBAAH,EAA2B,YAAW;AACpC,eAAO,KAAP,CAAa,WAAW,OAAxB,EAAiC,EAAjC;AACD,OAFD;AAGD,KAvBD;AAwBD,GAzBF;AA0BA,CAlDD","file":"/imports/components/todosList/todosLists.test.js.map","sourcesContent":["/* eslint-env mocha */\r\n\r\nimport 'angular-mocks';\r\nimport { Meteor } from 'meteor/meteor';\r\n\r\nimport todosList from '../todosList';\r\nimport { assert } from 'meteor/practicalmeteor:chai';\r\nimport { sinon } from 'meteor/practicalmeteor:sinon';\r\n\r\ndescribe('todosList', function() {\r\n  var element;\r\n\r\n  beforeEach(function() {\r\n    var $compile;\r\n    var $rootScope;\r\n\r\n    window.module(todosList.name);\r\n\r\n    inject(function(_$compile_, _$rootScope_){\r\n      $compile = _$compile_;\r\n      $rootScope = _$rootScope_;\r\n    });\r\n\r\n    element = $compile('<todos-list></todos-list>')($rootScope.$new(true));\r\n    $rootScope.$digest();\r\n  });\r\n\r\n  describe('component', function() {\r\n   it('should be showing incomplete tasks count', function() {\r\n     assert.include(element[0].querySelector('h1').innerHTML, '0');\r\n   });\r\n });\r\n\r\n describe('controller', function() {\r\n    describe('addTask', function() {\r\n      var controller;\r\n      var newTask = 'Be more fabolous';\r\n\r\n      beforeEach(() => {\r\n        sinon.stub(Meteor, 'call');\r\n        controller = element.controller('todosList');\r\n        controller.newTask = 'Be fabolous';\r\n        controller.addTask(newTask);\r\n      });\r\n\r\n      afterEach(() => {\r\n        Meteor.call.restore();\r\n      });\r\n\r\n      it('should call tasks.insert method', function() {\r\n        sinon.assert.calledOnce(Meteor.call);\r\n        sinon.assert.calledWith(Meteor.call, 'tasks.insert', newTask);\r\n      });\r\n\r\n      it('should reset newTask', function() {\r\n        assert.equal(controller.newTask, '');\r\n      });\r\n    });\r\n  });\r\n})\r\n"]},"hash":"1c6e88ea95bb4f8de9e0021105fdee29aaead903"}
