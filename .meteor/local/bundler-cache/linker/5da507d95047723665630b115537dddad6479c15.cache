[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAccounts = Package['accounts-base'].Accounts;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"imports\":{\"components\":{\"todosList\":{\"todosList.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                             //\n// imports/components/todosList/todosList.html                                                                 //\n//                                                                                                             //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                               //\n                                                                                                               // 1\n      if (Meteor.isServer) return;                                                                             // 2\n                                                                                                               // 3\n      var templateUrl = \"/imports/components/todosList/todosList.html\";                                        // 4\n      var template = \"<header> <h1>Todo List ( {{$ctrl.incompleteCount}} )</h1> <label class=\\\"hide-completed\\\"> <input type=\\\"checkbox\\\" ng-model=\\\"$ctrl.hideCompleted\\\"> Hide Completed Tasks </label> <login-buttons></login-buttons> <form class=\\\"new-task\\\" ng-submit=\\\"$ctrl.addTask($ctrl.newTask)\\\" ng-show=\\\"$ctrl.currentUser\\\"> <input ng-model=\\\"$ctrl.newTask\\\" type=\\\"text\\\" name=\\\"text\\\" placeholder=\\\"Type to add new tasks\\\"> </form> </header> <ul> <li ng-repeat=\\\"task in $ctrl.tasks\\\" ng-class=\\\"{'checked': task.checked, 'private': task.private}\\\"> <button class=\\\"delete\\\" ng-click=\\\"$ctrl.removeTask(task)\\\">&times;</button> <input type=\\\"checkbox\\\" ng-checked=\\\"task.checked\\\" ng-click=\\\"$ctrl.setChecked(task)\\\" class=\\\"toggle-checked\\\"> <span class=\\\"text\\\"> <strong>{{task.username}}</strong> - {{task.text}} </span> <button class=\\\"toggle-private\\\" ng-click=\\\"$ctrl.setPrivate(task)\\\" ng-show=\\\"task.owner === $ctrl.currentUser._id\\\"> {{task.private == true ? \\\"Private\\\" : \\\"Public\\\"}} </button> </li> </ul> \";\n                                                                                                               // 6\n      angular.module('angular-templates')                                                                      // 7\n        .run(['$templateCache', function($templateCache) {                                                     // 8\n          $templateCache.put(templateUrl, template);                                                           // 9\n        }]);                                                                                                   // 10\n                                                                                                               // 11\n      module.exports = {};                                                                                     // 12\n      module.exports.__esModule = true;                                                                        // 13\n      module.exports.default = templateUrl;                                                                    // 14\n                                                                                                               // 15\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"todosList.js\":[\"babel-runtime/helpers/classCallCheck\",\"angular\",\"angular-meteor\",\"../../api/tasks.js\",\"meteor/meteor\",\"./todosList.html\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                             //\n// imports/components/todosList/todosList.js                                                                   //\n//                                                                                                             //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                               //\nvar _classCallCheck;module.import('babel-runtime/helpers/classCallCheck',{\"default\":function(v){_classCallCheck=v}});var angular;module.import('angular',{\"default\":function(v){angular=v}});var angularMeteor;module.import('angular-meteor',{\"default\":function(v){angularMeteor=v}});var Tasks;module.import('../../api/tasks.js',{\"Tasks\":function(v){Tasks=v}});var Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var template;module.import('./todosList.html',{\"default\":function(v){template=v}});\n                                                                                                               // 1\n                                                                                                               // 2\n                                                                                                               // 3\n                                                                                                               // 4\n                                                                                                               // 5\n                                                                                                               //\nvar TodosListCtrl = function () {                                                                              //\n  function TodosListCtrl($scope) {                                                                             // 8\n    _classCallCheck(this, TodosListCtrl);                                                                      // 8\n                                                                                                               //\n    $scope.viewModel(this);                                                                                    // 9\n                                                                                                               //\n    this.subscribe('tasks');                                                                                   // 11\n    this.hideCompleted = false;                                                                                // 12\n                                                                                                               //\n    this.helpers({                                                                                             // 14\n      tasks: function () {                                                                                     // 15\n        function tasks() {                                                                                     // 14\n          var selector = {};                                                                                   // 16\n                                                                                                               //\n          // If hide completed is checked, filter tasks                                                        //\n          if (this.getReactively('hideCompleted')) {                                                           // 19\n            selector.checked = {                                                                               // 20\n              $ne: true                                                                                        // 21\n            };                                                                                                 // 20\n          }                                                                                                    // 23\n                                                                                                               //\n          // Show newest tasks at the top                                                                      //\n          return Tasks.find(selector, {                                                                        // 26\n            sort: {                                                                                            // 27\n              createdAt: -1                                                                                    // 28\n            }                                                                                                  // 27\n          });                                                                                                  // 26\n        }                                                                                                      // 31\n                                                                                                               //\n        return tasks;                                                                                          // 14\n      }(),                                                                                                     // 14\n      incompleteCount: function () {                                                                           // 32\n        function incompleteCount() {                                                                           // 14\n          return Tasks.find({                                                                                  // 33\n            checked: {                                                                                         // 34\n              $ne: true                                                                                        // 35\n            }                                                                                                  // 34\n          }).count();                                                                                          // 33\n        }                                                                                                      // 38\n                                                                                                               //\n        return incompleteCount;                                                                                // 14\n      }(),                                                                                                     // 14\n      currentUser: function () {                                                                               // 39\n        function currentUser() {                                                                               // 14\n          return Meteor.user();                                                                                // 40\n        }                                                                                                      // 41\n                                                                                                               //\n        return currentUser;                                                                                    // 14\n      }()                                                                                                      // 14\n    });                                                                                                        // 14\n  }                                                                                                            // 43\n                                                                                                               //\n  TodosListCtrl.prototype.addTask = function () {                                                              //\n    function addTask(newTask) {                                                                                //\n      // Insert a task into the collection                                                                     //\n      Meteor.call('tasks.insert', newTask);                                                                    // 47\n                                                                                                               //\n      // Clear form                                                                                            //\n      this.newTask = '';                                                                                       // 50\n    }                                                                                                          // 51\n                                                                                                               //\n    return addTask;                                                                                            //\n  }();                                                                                                         //\n                                                                                                               //\n  TodosListCtrl.prototype.setPrivate = function () {                                                           //\n    function setPrivate(task) {                                                                                //\n      Meteor.call('tasks.setPrivate', task._id, !task['private']);                                             // 54\n    }                                                                                                          // 55\n                                                                                                               //\n    return setPrivate;                                                                                         //\n  }();                                                                                                         //\n                                                                                                               //\n  TodosListCtrl.prototype.setChecked = function () {                                                           //\n    function setChecked(task) {                                                                                //\n      // Set the checked property to the opposite of its current value                                         //\n      Meteor.call('tasks.setChecked', task._id, !task.checked);                                                // 59\n    }                                                                                                          // 60\n                                                                                                               //\n    return setChecked;                                                                                         //\n  }();                                                                                                         //\n                                                                                                               //\n  TodosListCtrl.prototype.removeTask = function () {                                                           //\n    function removeTask(task) {                                                                                //\n      Meteor.call('tasks.remove', task._id);                                                                   // 63\n    }                                                                                                          // 64\n                                                                                                               //\n    return removeTask;                                                                                         //\n  }();                                                                                                         //\n                                                                                                               //\n  return TodosListCtrl;                                                                                        //\n}();                                                                                                           //\n                                                                                                               //\nmodule.export(\"default\",exports.default=(angular.module('todosList', [angularMeteor]).component('todosList', {\n  templateUrl: 'imports/components/todosList/todosList.html',                                                  // 72\n  controller: ['$scope', TodosListCtrl]                                                                        // 73\n})));                                                                                                          // 71\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}},\"api\":{\"tasks.js\":[\"meteor/meteor\",\"meteor/mongo\",\"meteor/check\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                             //\n// imports/api/tasks.js                                                                                        //\n//                                                                                                             //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                               //\nmodule.export({Tasks:function(){return Tasks}});var Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var Mongo;module.import('meteor/mongo',{\"Mongo\":function(v){Mongo=v}});var check;module.import('meteor/check',{\"check\":function(v){check=v}});\n                                                                                                               // 2\n                                                                                                               // 3\n                                                                                                               //\nvar Tasks = new Mongo.Collection('tasks');                                                                     // 5\n                                                                                                               //\nif (Meteor.isServer) {                                                                                         // 7\n  // This code only runs on the server                                                                         //\n  // Only publish tasks that are public or belong to the current user                                          //\n  Meteor.publish('tasks', function () {                                                                        // 10\n    function tasksPublication() {                                                                              // 10\n      return Tasks.find({                                                                                      // 11\n        $or: [{                                                                                                // 12\n          'private': {                                                                                         // 13\n            $ne: true                                                                                          // 14\n          }                                                                                                    // 13\n        }, {                                                                                                   // 12\n          owner: this.userId                                                                                   // 17\n        }]                                                                                                     // 16\n      });                                                                                                      // 11\n    }                                                                                                          // 20\n                                                                                                               //\n    return tasksPublication;                                                                                   // 10\n  }());                                                                                                        // 10\n}                                                                                                              // 21\n                                                                                                               //\nMeteor.methods({                                                                                               // 23\n  'tasks.insert': function () {                                                                                // 24\n    function tasksInsert(text) {                                                                               // 23\n      check(text, String);                                                                                     // 25\n                                                                                                               //\n      // Make sure the user is logged in before inserting a task                                               //\n      if (!Meteor.userId()) {                                                                                  // 28\n        throw new Meteor.Error('not-authorized');                                                              // 29\n      }                                                                                                        // 30\n                                                                                                               //\n      Tasks.insert({                                                                                           // 32\n        text: text,                                                                                            // 33\n        createdAt: new Date(),                                                                                 // 34\n        owner: Meteor.userId(),                                                                                // 35\n        username: Meteor.user().username                                                                       // 36\n      });                                                                                                      // 32\n    }                                                                                                          // 38\n                                                                                                               //\n    return tasksInsert;                                                                                        // 23\n  }(),                                                                                                         // 23\n  'tasks.remove': function () {                                                                                // 39\n    function tasksRemove(taskId) {                                                                             // 23\n      check(taskId, String);                                                                                   // 40\n                                                                                                               //\n      Tasks.remove(taskId);                                                                                    // 42\n    }                                                                                                          // 43\n                                                                                                               //\n    return tasksRemove;                                                                                        // 23\n  }(),                                                                                                         // 23\n  'tasks.setPrivate': function () {                                                                            // 44\n    function tasksSetPrivate(taskId, setToPrivate) {                                                           // 23\n      check(taskId, String);                                                                                   // 45\n      check(setToPrivate, Boolean);                                                                            // 46\n                                                                                                               //\n      var task = Tasks.findOne(taskId);                                                                        // 48\n                                                                                                               //\n      // Make sure only the task owner can make a task private                                                 //\n      if (task.owner !== Meteor.userId()) {                                                                    // 51\n        throw new Meteor.Error('not-authorized');                                                              // 52\n      }                                                                                                        // 53\n                                                                                                               //\n      Tasks.update(taskId, {                                                                                   // 55\n        $set: {                                                                                                // 56\n          'private': setToPrivate                                                                              // 57\n        }                                                                                                      // 56\n      });                                                                                                      // 55\n    }                                                                                                          // 60\n                                                                                                               //\n    return tasksSetPrivate;                                                                                    // 23\n  }(),                                                                                                         // 23\n  'tasks.setChecked': function () {                                                                            // 61\n    function tasksSetChecked(taskId, setChecked) {                                                             // 23\n      check(taskId, String);                                                                                   // 62\n      check(setChecked, Boolean);                                                                              // 63\n                                                                                                               //\n      Tasks.update(taskId, {                                                                                   // 65\n        $set: {                                                                                                // 66\n          checked: setChecked                                                                                  // 67\n        }                                                                                                      // 66\n      });                                                                                                      // 65\n    }                                                                                                          // 70\n                                                                                                               //\n    return tasksSetChecked;                                                                                    // 23\n  }()                                                                                                          // 23\n});                                                                                                            // 23\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]},\"startup\":{\"accounts-config.js\":[\"meteor/accounts-base\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                             //\n// imports/startup/accounts-config.js                                                                          //\n//                                                                                                             //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                               //\nvar Accounts;module.import('meteor/accounts-base',{\"Accounts\":function(v){Accounts=v}});                       // 1\n                                                                                                               //\nAccounts.ui.config({                                                                                           // 3\n  passwordSignupFields: 'USERNAME_ONLY'                                                                        // 4\n});                                                                                                            // 3\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}},\"client\":{\"main.html.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                             //\n// client/main.html.js                                                                                         //\n//                                                                                                             //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                               //\n                                                                                                               // 1\n            Meteor.startup(function() {                                                                        // 2\n              var attrs = {};                                                                                  // 3\n              for (var prop in attrs) {                                                                        // 4\n                document.body.setAttribute(prop, attrs[prop]);                                                 // 5\n              }                                                                                                // 6\n            });                                                                                                // 7\n                                                                                                               // 8\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"main.js\":[\"angular\",\"angular-meteor\",\"../imports/components/todosList/todosList\",\"../imports/startup/accounts-config.js\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                             //\n// client/main.js                                                                                              //\n//                                                                                                             //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                               //\nvar angular;module.import('angular',{\"default\":function(v){angular=v}});var angularMeteor;module.import('angular-meteor',{\"default\":function(v){angularMeteor=v}});var todosList;module.import('../imports/components/todosList/todosList',{\"default\":function(v){todosList=v}});module.import('../imports/startup/accounts-config.js');\n                                                                                                               // 2\n                                                                                                               // 3\n                                                                                                               // 4\n                                                                                                               //\nangular.module('simple-todos', [angularMeteor, todosList.name, 'accounts.ui']);                                // 6\n                                                                                                               //\nfunction onReady() {                                                                                           // 12\n  angular.bootstrap(document, ['simple-todos']);                                                               // 13\n}                                                                                                              // 14\n                                                                                                               //\nif (Meteor.isCordova) {                                                                                        // 16\n  angular.element(document).on('deviceready', onReady);                                                        // 17\n} else {                                                                                                       // 18\n  angular.element(document).ready(onReady);                                                                    // 19\n}                                                                                                              // 20\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}},{\"extensions\":[\".js\",\".json\",\".html\",\".css\"]});\nrequire(\"./client/main.html.js\");\nrequire(\"./client/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["/imports/components/todosList/todosList.html","/imports/components/todosList/todosList.js","/imports/api/tasks.js","/imports/startup/accounts-config.js","/client/main.html.js","/client/main.js"],"names":[],"mappings":"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","file":"/app.js","sourcesContent":["\n      if (Meteor.isServer) return;\n\n      var templateUrl = \"/imports/components/todosList/todosList.html\";\n      var template = \"<header> <h1>Todo List ( {{$ctrl.incompleteCount}} )</h1> <label class=\\\"hide-completed\\\"> <input type=\\\"checkbox\\\" ng-model=\\\"$ctrl.hideCompleted\\\"> Hide Completed Tasks </label> <login-buttons></login-buttons> <form class=\\\"new-task\\\" ng-submit=\\\"$ctrl.addTask($ctrl.newTask)\\\" ng-show=\\\"$ctrl.currentUser\\\"> <input ng-model=\\\"$ctrl.newTask\\\" type=\\\"text\\\" name=\\\"text\\\" placeholder=\\\"Type to add new tasks\\\"> </form> </header> <ul> <li ng-repeat=\\\"task in $ctrl.tasks\\\" ng-class=\\\"{'checked': task.checked, 'private': task.private}\\\"> <button class=\\\"delete\\\" ng-click=\\\"$ctrl.removeTask(task)\\\">&times;</button> <input type=\\\"checkbox\\\" ng-checked=\\\"task.checked\\\" ng-click=\\\"$ctrl.setChecked(task)\\\" class=\\\"toggle-checked\\\"> <span class=\\\"text\\\"> <strong>{{task.username}}</strong> - {{task.text}} </span> <button class=\\\"toggle-private\\\" ng-click=\\\"$ctrl.setPrivate(task)\\\" ng-show=\\\"task.owner === $ctrl.currentUser._id\\\"> {{task.private == true ? \\\"Private\\\" : \\\"Public\\\"}} </button> </li> </ul> \";\n\n      angular.module('angular-templates')\n        .run(['$templateCache', function($templateCache) {\n          $templateCache.put(templateUrl, template);\n        }]);\n\n      module.exports = {};\n      module.exports.__esModule = true;\n      module.exports.default = templateUrl;\n    ","import angular from 'angular';\nimport angularMeteor from 'angular-meteor';\nimport { Tasks } from '../../api/tasks.js';\nimport { Meteor } from 'meteor/meteor';\r\nimport template from './todosList.html';\n\nclass TodosListCtrl {\n  constructor($scope) {\n    $scope.viewModel(this);\n\r\n    this.subscribe('tasks');\r\n    this.hideCompleted = false;\r\n\r\n    this.helpers({\n      tasks() {\n        const selector = {};\r\n\r\n          // If hide completed is checked, filter tasks\r\n          if (this.getReactively('hideCompleted')) {\r\n            selector.checked = {\r\n              $ne: true\r\n            };\r\n          }\r\n\r\n          // Show newest tasks at the top\r\n          return Tasks.find(selector, {\r\n          sort: {\n            createdAt: -1\n          }\n        });\n      },\r\n      incompleteCount() {\r\n       return Tasks.find({\r\n         checked: {\r\n           $ne: true\r\n         }\r\n       }).count();\r\n     },\r\n     currentUser() {\r\n       return Meteor.user();\r\n     }\r\n    })\r\n  }\r\n\n  addTask(newTask) {\n    // Insert a task into the collection\r\n    Meteor.call('tasks.insert', newTask);\r\n\r\n    // Clear form\n    this.newTask = '';\n  }\r\n\r\n  setPrivate(task) {\r\n    Meteor.call('tasks.setPrivate', task._id, !task.private);\r\n  }\r\n\n  setChecked(task) {\n    // Set the checked property to the opposite of its current value\n    Meteor.call('tasks.setChecked', task._id, !task.checked);\r\n  }\n\n  removeTask(task) {\n    Meteor.call('tasks.remove', task._id);\r\n  }\n\n}\n\nexport default angular.module('todosList', [\n  angularMeteor\n])\n  .component('todosList', {\n    templateUrl: 'imports/components/todosList/todosList.html',\n    controller: ['$scope', TodosListCtrl]\n  });\n","import { Meteor } from 'meteor/meteor';\r\nimport { Mongo } from 'meteor/mongo';\r\nimport { check } from 'meteor/check';\r\n\r\nexport const Tasks = new Mongo.Collection('tasks');\n\r\nif (Meteor.isServer) {\r\n  // This code only runs on the server\r\n  // Only publish tasks that are public or belong to the current user\r\n  Meteor.publish('tasks', function tasksPublication() {\r\n    return Tasks.find({\r\n      $or: [{\r\n        private: {\r\n          $ne: true\r\n        }\r\n      }, {\r\n        owner: this.userId\r\n      }, ],\r\n    });\r\n  });\r\n}\r\n\r\nMeteor.methods({\r\n  'tasks.insert' (text) {\r\n    check(text, String);\r\n\r\n    // Make sure the user is logged in before inserting a task\r\n    if (!Meteor.userId()) {\r\n      throw new Meteor.Error('not-authorized');\r\n    }\r\n\r\n    Tasks.insert({\r\n      text,\r\n      createdAt: new Date(),\r\n      owner: Meteor.userId(),\r\n      username: Meteor.user().username,\r\n    });\r\n  },\r\n  'tasks.remove' (taskId) {\r\n    check(taskId, String);\r\n\r\n    Tasks.remove(taskId);\r\n  },\r\n  'tasks.setPrivate' (taskId, setToPrivate) {\r\n    check(taskId, String);\r\n    check(setToPrivate, Boolean);\r\n\r\n    const task = Tasks.findOne(taskId);\r\n\r\n    // Make sure only the task owner can make a task private\r\n    if (task.owner !== Meteor.userId()) {\r\n      throw new Meteor.Error('not-authorized');\r\n    }\r\n\r\n    Tasks.update(taskId, {\r\n      $set: {\r\n        private: setToPrivate\r\n      }\r\n    });\r\n  },\r\n  'tasks.setChecked' (taskId, setChecked) {\r\n    check(taskId, String);\r\n    check(setChecked, Boolean);\r\n\r\n    Tasks.update(taskId, {\r\n      $set: {\r\n        checked: setChecked\r\n      }\r\n    });\r\n  },\r\n});\r\n","import { Accounts } from 'meteor/accounts-base';\r\n\r\nAccounts.ui.config({\r\n  passwordSignupFields: 'USERNAME_ONLY',\r\n});\r\n","\n            Meteor.startup(function() {\n              var attrs = {};\n              for (var prop in attrs) {\n                document.body.setAttribute(prop, attrs[prop]);\n              }\n            });\n          ","import angular from 'angular';\nimport angularMeteor from 'angular-meteor';\nimport todosList from '../imports/components/todosList/todosList';\nimport '../imports/startup/accounts-config.js';\n\nangular.module('simple-todos', [\n  angularMeteor,\n  todosList.name,\n  'accounts.ui'\n]);\n\nfunction onReady() {\n  angular.bootstrap(document, ['simple-todos']);\n}\n\nif (Meteor.isCordova) {\n  angular.element(document).on('deviceready', onReady);\n} else {\n  angular.element(document).ready(onReady);\n}\n"]}}]